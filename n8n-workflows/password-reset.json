{
  "name": "Dental - Password Reset",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "send-password-reset",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-trigger",
      "name": "Password Reset Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [250, 300],
      "webhookId": "password-reset-webhook"
    },
    {
      "parameters": {
        "resource": "messages-api",
        "instanceName": "settbg",
        "remoteJid": "={{ $json.body.phone }}",
        "messageText": "={{ 'üîê *–°–º—è–Ω–∞ –Ω–∞ –ø–∞—Ä–æ–ª–∞*\\n\\n–ó–¥—Ä–∞–≤–µ–π' + ($json.body.userName ? ' ' + $json.body.userName : '') + '!\\n\\n–ó–∞ –Ω–æ–≤–∞ –ø–∞—Ä–æ–ª–∞ –∫–ª–∏–∫–Ω–∏ —Ç—É–∫ üëá\\n\\n' + $json.body.resetLink + '\\n\\n‚è∞ –í–∞–ª–∏–¥–µ–Ω 30 –º–∏–Ω.' }}",
        "options_message": {}
      },
      "id": "send-whatsapp",
      "name": "Send Reset Link",
      "type": "n8n-nodes-evolution-api-english.evolutionApi",
      "typeVersion": 1,
      "position": [500, 300],
      "credentials": {
        "evolutionApi": {
          "id": "XQSyFEVuFnjkHYYS",
          "name": "Evolution account"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify({ success: true, message: 'Password reset sent' }) }}",
        "options": {}
      },
      "id": "response-ok",
      "name": "Response OK",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [750, 300]
    }
  ],
  "connections": {
    "Password Reset Webhook": {
      "main": [[{"node": "Send Reset Link", "type": "main", "index": 0}]]
    },
    "Send Reset Link": {
      "main": [[{"node": "Response OK", "type": "main", "index": 0}]]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "timezone": "Europe/Sofia"
  },
  "staticData": null,
  "tags": ["dental", "auth", "whatsapp"]
}
